<DialogueTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/Outer-Wilds-New-Horizons/new-horizons/main/NewHorizons/Schemas/dialogue_schema.xsd">
  <NameField>Gatekeeper</NameField>

  <DialogueNode>
    <Name>Greeting</Name>
    <EntryCondition>DEFAULT</EntryCondition>
    <Dialogue>
      <Page>Greeings. I guard the entrance to this building.</Page>
    </Dialogue>
    <DialogueTarget>Init_0</DialogueTarget>
  </DialogueNode>

  <DialogueNode>
    <Name>First_Try_0</Name>
    <EntryCondition>SUNPOST_IN_RANGE</EntryCondition>
    <Dialogue>
      <Page>Greetings. I have not seen your kind around here.</Page>
      <Page>What is more intriguing than your unexpected arrival is how you knew the secret code.</Page>
    </Dialogue>

    <DialogueOptionsList>
      <DialogueOption>
        <Text>What secret code?</Text>
      </DialogueOption>
      <DialogueOption>
        <Text>Of course I know it.</Text>
      </DialogueOption>
    </DialogueOptionsList>
  </DialogueNode>

  <DialogueNode>
    <Name>First_Try_00</Name>
    <Dialogue>
      <Page>You do not know of it?</Page>
      <Page>It must have been pure chance that you arrived at this moment, then.</Page>
      <Page>Return once you have figured out the code.</Page>
    </Dialogue>
  </DialogueNode>

  <DialogueNode>
    <Name>First_Try_01</Name>
    <Dialogue>
      <Page>Very well. Welcome to the hall of the Followers of Logic.</Page>
    </Dialogue>
    <SetPersistentCondition>OPEN_SUNPOST_DOOR</SetPersistentCondition>
  </DialogueNode>
  
  <DialogueNode>
    <Name>Init_0</Name>
    <EntryCondition>TALKED_TO_GHIRD_GATEKEEPER_A</EntryCondition>
    <Dialogue>
      <Page>Who wishes to enter?</Page>
    </Dialogue>

    <DialogueOptionsList>
      <DialogueOption>
        <Text>A stranger.</Text>
        <DialogueTarget>Init_00</DialogueTarget>
      </DialogueOption>
      <DialogueOption>
        <Text>A friend.</Text>
        <DialogueTarget>Init_01</DialogueTarget>
      </DialogueOption>
      <DialogueOption>
        <Text>Who's asking?</Text>
        <DialogueTarget>Init_02</DialogueTarget>
      </DialogueOption>
    </DialogueOptionsList>
    <SetPersistentCondition>TALKED_TO_GHIRD_GATEKEEPER_A</SetPersistentCondition>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_00</Name>
    <Dialogue>
      <Page>No strangers may enter this building.</Page>
      <Page>Only those who know the secret code are granted passage.</Page>
      <Page>Come back at the correct time.</Page>
    </Dialogue>
    <RevealFacts>
      <FactID>GHIRD_VILLAGE_A_QUEST</FactID>
    </RevealFacts>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_01</Name>
    <Dialogue>
      <Page>Then surely you must know of the secret code?</Page>
      <Page>Come back at the correct time.</Page>
    </Dialogue>
    <RevealFacts>
      <FactID>GHIRD_VILLAGE_A_QUEST</FactID>
    </RevealFacts>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_02</Name>
    <Dialogue>
      <Page>The keeper of this gate.</Page>
      <Page>I only grant passage to those who know the secret code.</Page>
      <Page>Do you know what it is?</Page>
    </Dialogue>

    <DialogueOptionsList>
      <DialogueOption>
        <Text>No.</Text>
        <DialogueTarget>Init_020</DialogueTarget>
      </DialogueOption>
      <DialogueOption>
        <Text>Of course.</Text>
        <DialogueTarget>Init_021</DialogueTarget>
      </DialogueOption>
      <DialogueOption>
        <Text>What's the code again? I forgot.</Text>
        <DialogueTarget>Init_022</DialogueTarget>
      </DialogueOption>
    </DialogueOptionsList>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_020</Name>
    <Dialogue>
      <Page>That is unfortunate for you.</Page>
      <Page>Only those who know it may enter.</Page>
    </Dialogue>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_021</Name>
    <Dialogue>
      <Page>Perfect. Return at the correct time.</Page>
    </Dialogue>
    <RevealFacts>
      <FactID>GHIRD_VILLAGE_A_QUEST</FactID>
    </RevealFacts>
  </DialogueNode>

  <DialogueNode>
    <Name>Init_022</Name>
    <Dialogue>
      <Page>To forget the code is to prove yourself unworthy of it.</Page>
      <Page>If you do not know the code, you may not enter.</Page>
    </Dialogue>
  </DialogueNode>

  <DialogueNode>
    <Name>Entry_0</Name>
    <EntryCondition>SUNPOST_IN_RANGE</EntryCondition>
    <EntryCondition>TALKED_TO_GHIRD_GATEKEEPER_A</EntryCondition>
    <Dialogue>
      <Page>I see you have figured out the code. I expected you to take longer in solving it.</Page>
      <Page>Welcome to the hall of the Followers of Logic.</Page>
    </Dialogue>
    <SetPersistentCondition>OPEN_SUNPOST_DOOR</SetPersistentCondition>
  </DialogueNode>
</DialogueTree>